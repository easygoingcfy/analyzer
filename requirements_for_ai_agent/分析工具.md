# A股投资图形分析工具 - 项目需求说明文档

## 一、项目背景与目标

本项目旨在开发一套高效、可扩展的图形化工具，用于辅助用户进行 A 股市场的实时行情查看、历史数据分析、策略选股等任务。目标是实现一个可媲美或超越同花顺类工具的数据可视化与策略支持系统，满足重度投资者在信息处理和决策支持方面的需求。

---

## 二、核心功能需求

### 1. 实时行情展示功能

#### 📌 功能描述：
- 系统应能够实时显示 A 股市场的关键行情数据。
- 支持用户自定义展示内容与布局。

#### 🧾 功能要素包括但不限于：
- 实时成交量、成交金额、量比
- 所属板块、行业指数
- 上证、深证、创业板等大盘指数
- 实时的行业板块与概念板块的热度，支持对板块历史数据进行分析
- 自选股列表展示与刷新
- 实时图表（K线、分时、成交明细）

#### ⚙️ 可配置项：
- 用户可定义哪些字段需要展示
- 可保存多个布局模板（如主力视角、资金流视角）
- 多窗口/多标签页: 用户可以创建多个独立的标签页或停靠窗口，用于同时监控不同的股票列表、板块或大盘。
- 自定义列表: 用户可以创建和维护多个自定义的股票池（如“我的自选”、“观察池”、“价值股池”等）。
- 自定义表头: 在股票列表界面，用户可以自由选择、排序、隐藏需要显示的数据列（如将“量比”放在“成交量”旁边）。
- 实时排序: 列表数据支持根据任意列（如涨跌幅、成交量、量比）进行实时升序或降序排列。

---

### 2. 历史数据分析功能

#### 📌 功能描述：
- 系统应支持高性能的历史行情数据分析功能，包括个股、板块与大盘数据。
- 提供类似同花顺“技术分析”的能力。

#### 🧾 分析维度示例：
- 历史涨跌幅分布、成交量趋势
- 技术指标支持（MACD、KDJ、均线、量能堆积）
- 财报分析（PE、PB、净利同比）
- 热度变化趋势（关键词、龙虎榜、资金流向）

#### 📈 展示方式：
- 图形化可视化为主（折线图、柱状图、热力图）
- 可导出为报告（PDF/Excel）

---

### 3. 自由组合式选股功能

#### 📌 功能描述：
- 系统应支持用户自定义多种组合选股策略，并执行选股任务。
- 图形化界面: 提供一个图形化的策略构建界面，用户通过“积木式”或“表单式”的交互，自由组合选股条件。
- 条件逻辑: 支持“与(AND)”、“或(OR)”、“非(NOT)”逻辑，允许构建复杂的多层嵌套条件。

#### 🧾 支持的选股维度（可组合）：
- 技术面：
  - “调整中”，当前低点不破前高 / 不破5日线、10日线
  - K线形态识别
- 基本面：
  - 市盈率正负筛选
  - 每股收益、ROE、负债率等
- 热度面：
  - 个股热度（搜索量、资讯数量）
  - 板块热度、轮动趋势
- 策略逻辑：
  - “满足全部”或“满足任一”条件的组合查询
  - 多因子评分机制（支持脚本规则或可视化拖拽）
  
#### ⚙️ 用户交互支持：
- 图形化策略配置器（如“条件+并/或+条件”组合）
- 可保存/复用策略模板
- 支持选股结果预览与导出

---

## 三、非功能需求

| 类别 | 要求说明 |
|------|----------|
| ⚡ 实时性 | 数据更新延迟不超过 1 秒 |
| 🔧 可配置性 | 用户可视化配置界面字段与策略模板 |
| 💾 数据源 | 支持接入多个数据源（如通联、聚宽、东方财富等） |
| 📦 扩展性 | 支持插件或模块机制扩展指标或策略 |
| 👨‍💻 开发语言 | 建议 Python + Qt / Electron / Web 前端 |
| 🔐 安全性 | 本地数据加密存储、网络传输需支持 SSL |
| 📊 性能 | 单次选股筛选支持全市场全量数据（≤3s） |

---

## 四、未来扩展方向（可选）

- ✅ 支持用户自定义公式编写（类同花顺“公式管理器”）
- ✅ 云端同步与移动端预览
- ✅ AI 助理推荐个股、预测趋势
- ✅ 回测系统与实盘接口打通（自动执行策略）

---

## 五、AI Agent 接入建议（可选）

你可以使用此文档作为 AI Agent 的长期提示上下文，结合自然语言任务，例如：

```bash
agent.stock.show(symbol=600519, fields=[成交量, 成交金额, 板块])
agent.strategy.create(name="低吸策略", rule="MACD金叉 + 5日线不破")
agent.select.execute(strategy="反转捕捉", limit=20)
